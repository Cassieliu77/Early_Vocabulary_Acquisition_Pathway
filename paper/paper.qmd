---
title: "Pathways to Early Vocabulary Acquisition"
subtitle: "Mapping English Language Development Trajectories in Children Aged 16–30 Months"
author: Yongqi Liu
thanks: "Code and data are available at: https://github.com/Cassieliu77/Vocabulary_Learning_Pattern.git"
date: today
date-format: long
abstract: "This study examines vocabulary acquisition in children aged 16–30 months using data from the MacArthur-Bates Communicative Development Inventories. Age is the strongest predictor, with vocabulary size increasing consistently and foundational categories like Function Words, Living Things, and Objects showing higher predicted probabilities, indicating their universal acquisition. Complex categories such as Sensory Words, Adjectives, and Places exhibit broader distributions and lower probabilities, reflecting their reliance on contextual understanding and cognitive complexity. These findings underscore age-specific patterns in vocabulary growth and the need for targeted interventions to support diverse word categories learning."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| echo: false
#| include: false
#| warning: false
#| message: false

# List of required packages
# packages <- c("tidyverse", "arrow", "modelsummary", "knitr", "dplyr", 
#            "ggplot2", "scales", "wordbankr", "tidyr", "arm")

library(tidyverse)
library(arrow)
library(modelsummary)
library(knitr)
library(dplyr)
library(ggplot2)
library(scales)
library(wordbankr)
library(tidyr)
library(arm)

analysis_data <- read_parquet(here::here("data/02-analysis_data/cleaned_data.parquet"))
logistic_model <- readRDS(here::here("models/logistic_model_last.rds"))
```

# Introduction {#sec-intro}

Language development in infants and toddlers is often discussed in terms of isolated stages and distinct milestones. However, the fact is that language grows continuously, progressing month by month—and even day by day—in between these milestones. While language milestones are important, it is also crucial to recognize the month-by-month progression in comprehension and production during early language development. To better understand this growth, this study shows investigation on @cdi data and illustrates language development monthly over 16-30 months aged children.

Understanding how children acquire vocabulary is a cornerstone to develop linguistics and early childhood education. Vocabulary growth is not only a key indicator of cognitive development but also serves as a foundation for future linguistic and academic success. The interplay of factors such as age, linguistic environments, and lexcial categories influences children’s vocabulary acquisition in complex and dynamic ways. By analyzing patterns and predictors of vocabulary growth, this paper describes the developmental trajectories that underpin language acquisition, offering a clearer understanding of how children progress in their linguistic abilities.

This study utilizes a dataset from the @wordbankr package, which aggregates data from @cdi, to investigate vocabulary development in early childhood. By employing a logistic regression model, the research also estimates the likelihood of achieving a high vocabulary score using predictors such as age, norming status, and lexical categories. This model serves as a tool to explore how these factors collectively influence children’s vocabulary acquisition trajectories.

The estimand of interest in this study is the probability that an English-speaking child achieves a high vocabulary score, defined by surpassing a threshold of 300 combined comprehension and production words. These predictors include the child’s age (measured in months), their inclusion in a norming group (standardized benchmark), and the lexical category of the words they acquire (e.g., Function Words, Adjectives, Verbs). The study aims to quantify the influence of these factors on vocabulary proficiency and identify how age and lexical categories uniquely shape developmental trajectories. The model further investigates variability in vocabulary acquisition across categories, highlighting disparities between foundational categories, such as Function Words, which are more consistently acquired, and complex categories like Sensory Words, which show broader variability due to contextual and cognitive demands.

Key findings reveal distinct trajectories of vocabulary acquisition across different word categories, with age emerging as the strongest predictor of vocabulary growth. Also, the acquisition speed among children differs a lot. The analysis shows that as children age, their likelihood of achieving high vocabulary scores increases consistently, reflecting the natural progression of language development. Foundational categories such as “Living Things” and “Function Words” exhibit stable and high predicted probabilities, likely due to their frequent use in daily communication and their role in forming early linguistic structures. In contrast, complex categories such as “Sensory Words” and “Adjectives” display greater variability, highlighting the cognitive and contextual challenges associated with their acquisition. Additionally, the influence of linguistic environments on vocabulary development is significant. Children in the norming groups, who benefit from structured linguistic exposure and are assessed under more controlled and standardized conditions, consistently outperform their non-norming peers in vocabulary scores. This highlights the impact of structured environments on language development and underscores the importance of norming as a tool for calibrating developmental assessments. The results suggests the need for targeted interventions, particularly in supporting the acquisition of underdeveloped categories such as Sensory Words and Adjectives. Furthermore, the findings in this paper pave the way for future research to explore broader contextual factors—such as socio-economic status and bilingualism—that may further explain the observed variability in children’s language acquisition trajectories.

The paper is structured as follows: @sec-intro provides an introduction and describes the estimand for the paper. @sec-data1 describes the dataset, highlighting the variables used and their distributions. @sec-model1 provides an overview of the logistic regression model and its detailed explanations. @sec-result presents the visualized results, highlighting variability in vocabulary acquisition by age and word categories, as well as predicted probabilities. Finally, @sec-discussion delves into the findings, explores their implications, and outlines the limitations and future research directions. [Appendix - @sec-data2] includes in-depth exploration and evaluation on data collection methods. [Appendix - @sec-model2] contains the  model diagnostics and accuracy evaluation. The data for this study is sourced from @wordbankr and @cdi, with the entire analysis conducted in @citeR.

# Data {#sec-data1}

## Overview

The original dataset was obtained from @cdi and downloaded using the R package @wordbankr. After a thorough cleaning process such as grouping related items and removing missing values, the analysis focuses on key variables, including category, age, comprehension, production and is_norming. These variables form the foundation of the analysis dataset, with an overview provided in @tbl-data.

```{r}
#| label: tbl-data
#| tbl-cap: Cleaned Word Bank Dataset
#| echo: false

summary_table <- analysis_data %>%
  dplyr::select(language, age, is_norming, broad_category, production, high_vocabulary) %>%
  rename(
    Language = language,
    Age = age,
    Is_Norming = is_norming,
    Broad_Category = broad_category,
    Production = production,
    High_Vocabulary = high_vocabulary)

kable(head(summary_table, 10))
```

## Measurement

The objective of this study’s measurement approach is to transform raw parental reports into reliable indicators of children’s vocabulary acquisition patterns. The data is sourced from @cdi, a widely used tool that collects detailed information on children’s vocabulary comprehension and production through structured parental surveys. These surveys allow parents to report their child’s understanding and usage of specific words, which are categorized into lexical groups such as nouns, verbs, and adjectives. This structured framework provides the foundation for creating the dependent and independent variables used in the analysis.

- Standardized Structure: The CDI uses predefined response categories to minimize reporting ambiguity and ensure consistency across participants. While this format reduces variability in responses, it may not fully capture the nuances of vocabulary acquisition.

- Words Categorization: Vocabulary items are grouped into distinct lexical categories, such as Function Words, Sensory Words, and Adjectives, enabling a detailed examination of how different types of vocabulary are acquired.

- Norming Sample Inclusion: To improve validity, the dataset includes a subset of children from norming groups, serving as benchmarks for language development. While these groups provide a standard for comparison, they may not fully represent the diversity of the broader population.

- Bias Mitigation: The CDI’s structured responses and norming benchmarks help reduce bias but cannot fully eliminate inaccuracies from parental reporting. Parents may overestimate or underestimate their child’s abilities due to subjective perceptions or limited observations, which remains a limitation of the self-reported data. 

- Missing Data Handling: Observations with incomplete or invalid responses were excluded from the analysis to maintain the integrity and reliability of the dataset.

- Temporal Limitations: Temporal Snapshot Limitation: The CDI captures vocabulary development at discrete age points, which may not fully reflect rapid, short-term changes in children’s language acquisition.

## Outcome Variable

### High Vocabulary Score

The outcome variable in this study, High Vocabulary Score, is a binary indicator designed to identify individuals with advanced vocabulary. This variable is derived from two key measures:

1. Comprehension: This variable represents the ability to understand words and phrases, reflecting the receptive language skills of individuals. Comprehension scores are numerical and vary across the dataset.

2. Production: This variable captures the ability to produce words, reflecting expressive language skills. Like comprehension, production scores are numerical and provide the standard into verbal articulation capabilities.

3. High Vocabulary Score: It is calculated using the average of comprehension and production scores for each individual. This average is represented as: $\text{prod\_comp\_mean} = \frac{\text{Comprehension} + \text{Production}}{2}$

Referring to @wendy and exploratory data analysis, I investigated how productive vocabulary size evolves in children aged 16 to 30 months. Observing the 50th percentile, which approximates 300 words, I decided to create a binary variable using this threshold. This choice ensures the threshold reflects a typical vocabulary level for children aged 16 to 30 months, avoiding the influence of outliers. Using the 50th percentile also aligns with the goal of distinguishing between children with relatively advanced vocabulary (above the median) and those with less developed vocabulary (below the median), making it an effective and balanced benchmark for binary classification.

To classify individuals, a threshold value of 300 is applied to `prod_comp_mean`:

- Individuals with `prod_comp_mean > 300` are classified as having a high vocabulary score (outcome = 1).

- Those with `prod_comp_mean <= 300` are classified as not having a high vocabulary score (outcome = 0).

This method accounts for both receptive (comprehension) and expressive (production) skills in defining advanced vocabulary. A threshold of 300 provides a clear distinction between individuals with high and low vocabulary abilities. The High Vocabulary Score is used as the dependent variable in the subsequent model setup. Its binary nature makes it well-suited for analysis using a binomial family distribution and for estimating factors influencing advanced vocabulary acquisition.

```{r}
#| label: fig-outcome
#| fig-cap: Distribution of high vocabulary levels among children aged 16–30 months. The chart shows a larger proportion of children classified as “Not High Vocabulary” compared to those with “High Vocabulary”.
#| echo: false
#| warning: false
#| message: false

outcome_counts <- analysis_data %>%
  count(high_vocabulary) %>%
  mutate(VocabularyCategory = ifelse(high_vocabulary == 1, "High Vocabulary", "Not High Vocabulary"))

ggplot(outcome_counts, aes(x = VocabularyCategory, y = n, fill = VocabularyCategory)) +
  geom_bar(stat = "identity", width = 0.7, show.legend = FALSE) +
  labs(title = "Distribution of High Vocabulary Levels", x = "Vocabulary Level", y = "Count") +
  scale_fill_manual(values = c("High Vocabulary" = "blue", "Not High Vocabulary" = "red")) +
  scale_y_continuous(labels = scales::comma) +
  theme_minimal(base_size = 12) +
  theme(
    plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
    axis.title.x = element_text(size = 14, margin = margin(t = 10)),
    axis.title.y = element_text(size = 14, margin = margin(r = 10)),
    axis.text = element_text(size = 12),)

```

\newpage

## Predictor Variables

### Age

Age plays an important role in understanding vocabulary acquisition patterns in children, as it reflects developmental progress over time. As shown in @fig-age, the dataset reveals a concentration of participants between 24 and 30 months, a critical period during which children typically experience substantial gains in vocabulary comprehension and production. This higher representation is likely driven by a research emphasis on developmental milestones that characterize this stage, making the dataset particularly valuable for studying advanced vocabulary acquisition.

Distinct peaks in the dataset, such as at 25 and 30 months, may indicate intentional focus points for testing or align with developmental benchmarks tied to standardized assessments like the MacArthur-Bates Communicative Development Inventories (CDI). However, this uneven distribution also highlights the challenges of assessing vocabulary development in younger children, where verbal communication is less developed, and parental reporting is more variable. These disparities underscore the importance of standardizing age in statistical models to ensure accurate analysis and interpretation, while also exercising caution when generalizing findings to underrepresented age groups.

```{r}
#| echo: false
#| label: fig-age
#| fig-cap: The graph visualizes the age distribution of children in the dataset, starting from 16 months. It shows a varying number of participants across age groups, with peaks around certain ages, such as 25 months, and a notable decline at the youngest and oldest ranges. This distribution highlights the dataset’s emphasis on certain developmental periods, which may reflect the focus of assessments or participant availability.
#| warning: false
#| message: false

ggplot(analysis_data, aes(x = age)) +
  geom_histogram(binwidth = 0.5, fill = "steelblue", alpha = 0.8) +
  labs(
    title = "Age Distribution",
    x = "Age (months)",
    y = "Count") +
  theme_minimal() +
  scale_y_continuous(labels = comma) +
  scale_x_continuous(breaks = seq(16, max(analysis_data$age, na.rm = TRUE), by = 1))
```

### Word Category

The study categorizes words into broad lexical groups to analyze patterns of vocabulary acquisition, as depicted in @fig-category. These categories include Activities, Adjectives, Function Words, Living Things, Objects, Places, Sensory Words, and Verbs, with further subdivision of nouns into specific groups like Living Things, Objects, and Places to capture distinct trends. Function Words, encompassing pronouns and question words, reflect early grammatical development, while Verbs and Adjectives denote actions and descriptive expressions, both of which are critical for sentence construction and linguistic progression.

The distribution of word categories, shown in @fig-category, reveals notable differences in frequency. Objects form the largest category, reflecting the prominence of concrete and tangible items in children’s early vocabulary, as these are easier to recognize and recall. Verbs and Living Things follow as essential components of communication but appear less frequently. Conversely, Sensory Words and Activities are underrepresented, likely due to their context-specific and specialized nature. This variability emphasizes the role of concrete and functional words in early language development while also identifying potential gaps in underrepresented lexical groups. 

```{r}
#| echo: false
#| label: fig-category
#| fig-cap: The figure shows objects dominate the vocabulary, reflecting an emphasis on concrete and tangible terms, while categories like Sensory Words and Activities are less frequently recorded.
#| warning: false
#| message: false

ggplot(analysis_data, aes(x = broad_category)) +
  geom_bar(fill = "steelblue", color = "white", alpha = 0.8) +
  labs(title = "Word Category Distribution", x = "Category", y = "Count") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))+
  scale_y_continuous(labels = scales::comma)
```

\newpage

### Norming Status

The is_norming variable classifies children into two groups: norming and non-norming. The norming group serves as a standardized sample, providing benchmarks for assessing vocabulary development and enabling consistent comparisons across the dataset. Although the dataset is predominantly composed of non-norming children, norming data is critical for calibrating and interpreting learning patterns, particularly in early language acquisition studies or eduction.

This variable is included in the logistic regression model to account for systematic differences between the groups. By doing so, the model ensures that variations in the likelihood of achieving a high vocabulary score are not confounded by differences in group composition or assessment protocols. Despite the imbalance, this approach allows the model to differentiate patterns arising from population diversity versus those influenced by structured norming samples, as shown in @tbl-norming.

```{r}
#| echo: false
#| label: tbl-norming
#| tbl-cap: Summary of Norming Status in the Dataset
#| warning: false
#| message: false

summary <- summary(analysis_data$is_norming)
# Summarize the 'is_norming' variable
summary_isnorming <- table(analysis_data$is_norming)

# Convert the table into a data frame
summary_isnorming_df <- as.data.frame(summary_isnorming)

# Render the summary table using kable
knitr::kable(
  summary_isnorming_df,
  col.names = c("Norming Status", "Count"))
```


# Model {#sec-model1}

To show the relationship between children’s vocabulary acquisition and their demographic and linguistic characteristics, a logistic regression model is constructed in this section. By examining key demographic and linguistic predictors, we aim to identify how characteristics like age, norming status, and word categories influence vocabulary development. The dependent variable, high_vocabulary, is a binary outcome indicating whether a child’s average production and comprehension score (denoted as prod_comp_mean) exceeds 300. This threshold was chosen to distinguish children with relatively advanced vocabulary levels. More background details and diagnostics are included in [Appendix - @sec-model2].

## Model Overview

- High Vocabulary: A binary indicator where 1 represents a high vocabulary score (combined comprehension and production > 300), and 0 otherwise.

- Scaled Age (age_scaled): The child’s age, standardized to reflect changes per standard deviation. Standardization aids in interpretability and ensures numerical stability.

- Norming Status (is_norming): A binary indicator denoting whether a child is part of the norming dataset (TRUE) or not (FALSE). This variable accounts for potential differences in data collection or assessment protocols.

- Broad Category (broad_category): A categorical variable grouping words into lexical categories, such as adjectives, verbs, and nouns. The reference category for comparison is Function Words.

The model is specified as:

\begin{align}
\log \left( \frac{p_i}{1 - p_i} \right) &= \beta_0 + \beta_1 \cdot \text{age\_scaled}_i + \beta_2 \cdot \text{is\_normingTRUE}_i \\
&\quad + \beta_3 \cdot \text{broad\_categoryAdjectives}_i \\
&\quad + \beta_4 \cdot \text{broad\_categoryFunction\_Words}_i \\
&\quad + \beta_5 \cdot \text{broad\_categoryLiving\_Things}_i \\
&\quad + \beta_6 \cdot \text{broad\_categoryObjects}_i \\
&\quad + \beta_7 \cdot \text{broad\_categoryPlaces}_i \\
&\quad + \beta_8 \cdot \text{broad\_categorySensory\_Words}_i \\
&\quad + \beta_9 \cdot \text{broad\_categoryVerbs}_i
\end{align}

Where:
- $p_i$ represents the probability that child  i  has a high vocabulary score

- $\beta_0$ is the intercept, capturing the baseline log-odds when all predictors are at their reference or mean levels

- $\beta_1$: Effect of age (standardized)

- $\beta_2$: The effect of whether the individual belongs to the norming group

- $\beta_3$, $\beta_4$, $\beta_5$, $\beta_6$, $\beta_7$, $\beta_8$, $\beta_9$: The effects of being in the respective broad word categories
(nouns, function words, or verbs), compared to the reference category (likely “adjectives”)

## Model Assumptions

- Linearity of the Logit: The model assumes a linear relationship between the log-odds of the outcome (high vocabulary proficiency) and the independent variables. For instance, the standardized age variable (age\_scaled) ensures that for every one standard deviation increase in age, the log-odds of achieving high vocabulary change by a constant amount. Standardization centers the variable around zero and scales it to have a standard deviation of one, improving both interpretability and adherence to the linearity assumption.
- Independence of Observations: Each observation corresponds to a unique child, and the data assumes no repeated measures or nested structures (e.g., grouping by classrooms or schools). This independence ensures the validity of the logistic regression framework. If dependencies, such as repeated measures or clustering, were present, a mixed-effects logistic regression or other hierarchical modeling techniques would be required.
- Categorical Variable Encoding: The categorical variable broad_category (e.g., “Adjectives,” “Verbs,” “Living Things”) is encoded using sum contrasts. This ensures that each coefficient reflects the deviation of a given category from the overall mean effect across all categories. For example, the coefficient for “Verbs” represents the difference in log-odds for this category compared to the average log-odds across all categories. Sum contrasts further allow the model’s intercept to represent the overall mean effect when all predictors are at their reference or mean levels, facilitating clear interpretation.
- Binary Nature of the Outcome: The dependent variable, high_vocabulary, is binary (1 = high vocabulary, 0 = not high vocabulary). Logistic regression is appropriate for modeling binary outcomes, as it assumes the binomial distribution of the data, which aligns with the structure of the outcome variable.
- No Perfect Multicollinearity: The predictors are assumed to be non-perfectly correlated. High multicollinearity would lead to unreliable coefficient estimates and obscure the individual effects of predictors. Standardizing continuous predictors (e.g., age) and using appropriate encoding for categorical variables help minimize this risk and ensure stable model estimation.

## Interpretation of Coefficients

The logistic regression coefficient ($\beta$) represent the change in the log-odds of achieving high vocabulary proficiency for a one-unit change in the respective predictor variable, holding all other variables constant.

- Intercept ($\beta_0$):  Represents the log-odds of high vocabulary proficiency when all predictors are at their reference levels. If $\beta_0$ > 0, the baseline odds of high vocabulary are greater than 50%. Refering to the modelsummary in the @sec-model2, we knwo that the baseline odds of high vocabulary proficiency are less than 50%.

- Scaled Age ($\beta_1$): For each one standard deviation increase in age, the log-odds of high vocabulary increase by $\beta_1$. If $\beta_1 = 0.5$, then $\exp(0.5) \approx 1.65$, meaning the odds increase by 65% for every one standard deviation increase in age.

- Norming Status ($\beta_2$): Indicates the effect of belonging to the norming group, a positive $\beta_2$ suggests higher odds of high vocabulary compared to non-norming children. If $\beta_2 = 0.1$, then $\exp(0.1) \approx 1.11$, meaning norming group children have 22% higher odds of high vocabulary.

- Broad Category ($\beta_3$, $\beta_4$, $\beta_5$, $\beta_6$, $\beta_7$, $\beta_8$, $\beta_9$): The coefficients for the broad word categories (e.g., Function Words, Living Things) represent their effect on the log-odds of high vocabulary compared to the reference category (Adjectives). A positive $\beta_k$ indicates higher odds compared to Adjectives. If $\beta_4$ = 0.3 (Function Words), then $\exp(0.3) \approx 1.35$, meaning Function Words increase the odds by 35% compared to Adjectives. A negative $\beta_k$ implies lower odds. For instance, if $\beta_7 = -0.008$ (Places), then $\exp(-0.008) \approx 0.992$ shows a minor decrease in odds for words in the Places category.

## Model Justification

Logistic regression is well-suited for this study, given its ability to model binary outcomes like high vocabulary proficiency (1 = high vocabulary, 0 = not high vocabulary). By constraining predicted probabilities between 0 and 1, logistic regression ensures meaningful predictions. Its coefficients offer clear investigation into the magnitude and direction of effects, enabling an understanding of how predictors like age and norming status influence the likelihood of high vocabulary acquisition. For instance, odds ratios derived from the model allow straightforward interpretation of the impact of each variable, such as the increased likelihood of high vocabulary with a one-standard-deviation increase in age.

Although more advanced machine learning models like random forests or neural networks could provide slight improvements in predictive accuracy, these approaches lack the transparency needed to understand the underlying relationships between predictors and outcomes. Given this study’s focus on uncovering developmental patterns rather than solely optimizing prediction accuracy, logistic regression offers the necessary balance between interpretability and performance. Moreover, the dataset size and structure favor logistic regression, which is less prone to overfitting than more complex models that often require larger datasets to generalize effectively.

To ensure model robustness, the dataset was split into training and testing subsets to validate the model and minimize overfitting. Additionally, predictors like age were standardized to ensure comparability and prevent dominance by variables with larger numerical ranges. Categorical variables, such as word categories, were encoded using sum contrasts, allowing meaningful comparisons and ensuring that coefficients reflect deviations from the overall mean effect. These steps, combined with logistic regression’s simplicity and explanatory power, make it an optimal choice for investigating vocabulary acquisition patterns.

# Results {#sec-result}

## Variability in Production Vocabulary

@fig-percent reveals a clear upward trend in production vocabulary as children age, with the median (50th percentile) line serving as a benchmark for typical development. The 90th percentile exhibits a significantly steeper pathway, indicating that children at the upper end of the distribution acquire vocabulary at a faster rate compared to their peers. Conversely, the 10th and 25th percentiles demonstrate more gradual growth, reflecting slower vocabulary development in these groups.

At younger ages, the percentile lines remain close together, suggesting relatively uniform vocabulary acquisition across children. However, as age increases, the divergence between percentiles becomes more pronounced. It indicates a greater range of individual variability in vocabulary production. Children in the 90th percentile consistently outpace their peers, achieving vocabulary sizes significantly higher than the median. Meanwhile, children in the lower percentiles maintain slower, steadier progress. These findings underscore the heterogeneity in early language development and highlight the importance of considering individual differences when assessing or supporting vocabulary acquisition. The widening gap between percentiles at older ages suggests that proper interventions may be beneficial for children at the lower end of the distribution to support more equitable language development outcomes.

```{r}
#| echo: false
#| eval: true
#| label: fig-percent
#| fig-cap: The graph illustrates the production vocabulary of children across different ages (in months). Individual data points (gray dots) represent raw production scores for 5000 resampled observations. Colored lines correspond to standardized percentiles—10th (blue), 25th (light blue), 50th (green), 75th (yellow), and 90th (red)—showing trends in vocabulary production distribution over time.
#| warning: false
#| message: false

analysis_data_0 <- read_parquet(here::here("data/02-analysis_data/cleaned_data.parquet"))

# Resample the dataset to include 5000 observations
set.seed(666)  # For reproducibility
sampled_data_0 <- analysis_data_0 %>% sample_n(5000)

# Define the percentiles and process the data
percentiles <- c(0.1, 0.25, 0.5, 0.75, 0.9)

percentile_data <- analysis_data_0 %>%
  mutate(age_rounded = round(age)) %>%
  group_by(age_rounded) %>%
  summarize(
    `10th` = quantile(production, probs = 0.1, na.rm = TRUE),
    `25th` = quantile(production, probs = 0.25, na.rm = TRUE),
    `50th` = quantile(production, probs = 0.5, na.rm = TRUE),
    `75th` = quantile(production, probs = 0.75, na.rm = TRUE),
    `90th` = quantile(production, probs = 0.9, na.rm = TRUE),
    .groups = "drop"
  ) %>%
  pivot_longer(
    cols = -age_rounded,
    names_to = "percentile",
    values_to = "value")

# Visualize the data
ggplot() +
  geom_point(data =sampled_data_0, aes(x = age, y = production), alpha = 0.2, color = "grey") +
  geom_line(data = percentile_data, aes(x = age_rounded, y = value, color = percentile, group = percentile), size = 1) +
  scale_color_manual(
    values = c("blue", "lightblue", "green", "gold", "red"),
    labels = c("10th", "25th", "50th", "75th", "90th")
  ) +
  labs(
    title = "Production Vocabulary by Age with Percentile",
    x = "Age (Months)",
    y = "Production (Number of Words)",
    color = "Percentile"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
    legend.position = "top")+
  scale_x_continuous(breaks = seq(16, 30, 2))
```

## Median Vocabulary Size Change by Age

@fig-median illustrates the median comprehension vocabulary scores across different ages, focusing on the central tendency of children’s comprehension development between 16 and 30 months. The orange dots represent 800 resampled individual data points, capturing the variability in comprehension scores, while the blue line highlights the median score for each age group. The graph shows a clear upward trajectory, with median comprehension steadily increasing with age, particularly after 18 months. This suggests a critical developmental period between 18 and 30 months during which children experience significant growth in comprehension vocabulary. The density and spread of points around the median line indicate individual variability, emphasizing that while the general trend is one of growth, some children exhibit slower or faster development compared to their peers. The visualization underscores the importance of age as a determinant of vocabulary comprehension while highlighting the diverse range of learning patterns among children.

Between 16 and 18 months, the median comprehension score remains relatively stable, indicating slower growth in vocabulary during early stages of language acquisition. A noticeable increase in vocabulary size is observed after 18 months, suggesting that children begin to acquire words more rapidly as their cognitive and linguistic abilities develop. The most significant growth occurs between 24 and 30 months, where the median comprehension score consistently rises. This period aligns with critical developmental milestones, such as the expansion of receptive language and comprehension skills.Around 30 months, the upward slope of the median line begins to level off slightly, suggesting that comprehension growth may slow down or stabilize as children approach the end of the observed range.

The use of the median instead of the mean ensures that the central trend is not skewed by outliers (e.g., extremely high or low comprehension scores). This choice provides a robust summary of comprehension at each age, especially in datasets with large variability or non-normal distributions.These findings highlight the critical window between 21 and 26 months for comprehension vocabulary growth. Interventions or language exposure strategies during this period may be particularly effective in enhancing language development. The observed variability suggests that individual-level factors (e.g., family environment, exposure to language) play a significant role in shaping comprehension scores, warranting further investigation into these influences.


```{r}
#| echo: false
#| eval: true
#| label: fig-median
#| fig-cap: This figure illustrates the relationship between age (in months) and the median comprehension vocabulary level. Each orange point represents a resampled data point, while the blue line depicts the median vocabulary level at each age. The trend shows different slopes in comprehension increase at each age stage. 
#| warning: false
#| message: false

analysis_data_1 <- read_parquet(here::here("data/02-analysis_data/cleaned_data.parquet"))

# Resample the dataset to include 100 observations
set.seed(666)  # For reproducibility
sampled_data <-  analysis_data_1 %>%
  sample_n(800)

# Calculate the median comprehension for each age in the sampled dataset
median_data <- sampled_data %>%
  group_by(age) %>%
  summarize(
    median_prod_comp_mean = median(prod_comp_mean, na.rm = TRUE), 
    .groups = "drop")

ggplot() +
  geom_jitter(data = sampled_data, aes(x = age, y = prod_comp_mean), 
              alpha = 0.7, size = 2, color = "orange") +  
  geom_line(data = median_data, aes(x = age, y = median_prod_comp_mean), 
            color = "blue", size = 1.2, linetype = "solid") + 
  labs(title = "Median Comprehension by Age (Resampled)", x = "Age (Months)",
    y = "Median of the Vocabulary Level") +
  theme_minimal(base_size = 14) +
  theme(plot.title = element_text(size = 16, face = "bold", hjust = 0.5),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 12),
    panel.grid.major = element_line(color = "grey85"),
    panel.grid.minor = element_blank()) + scale_x_continuous(breaks = seq(16, 30, 2))
```

## Predicted Probabilities by Age

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

# Add predicted probabilities to the test dataset
analysis_data_test<- read_parquet(here::here("data/02-analysis_data/test_data.parquet"))
analysis_data_test <- analysis_data_test %>% mutate(predicted_prob = predict(logistic_model, newdata = analysis_data_test, type = "response"))

# Aggregate mean predicted probabilities by age and broad_category
age_broad_category_predictions <- analysis_data_test %>%
  group_by(age, broad_category, is_norming) %>%
  summarize(mean_predicted_prob = mean(predicted_prob, na.rm = TRUE), .groups = "drop")

broad_category_summary <- age_broad_category_predictions %>%
  group_by(broad_category) %>%
  summarize(overall_mean_prob = mean(mean_predicted_prob, na.rm = TRUE))

norming_category_summary <- age_broad_category_predictions %>%
  group_by(is_norming) %>%
  summarize(overall_mean_prob = mean(mean_predicted_prob, na.rm = TRUE))

```

@fig-agepercent shows the relationship between predicted probabilities of achieving high vocabulary and age, with percentile trends (10th, 25th, 50th, 75th, and 90th percentiles) highlighting the prediction's variabilities. After fitting the model with the test data, the scatterplot points represent individual predicted probabilities, and the percentile lines depict the progression of predictions across age groups. The median predicted probability steadily increases with age, reflecting the model’s growing confidence in achieving high vocabulary as children age. The 10th and 25th percentiles (dashed and dotted red/purple lines) remain relatively low at younger ages but show a notable increase, especially after 20 months, which suggests higher variability in predictions among younger children. In contrast, individuals in the 75th and 90th percentiles start higher and climb more sharply, showing disparities in vocabulary acquisition among same-aged children. Overall, the increasing spread in achieving high vocabulary probability tells a broader range of vocabulary acquisition patterns as children develop. The changing slope shows the different acquisition speeds during early childhood language development.

```{r}
#| echo: false
#| eval: true
#| label: fig-agepercent
#| warning: false

# Resample the dataset to include 5000 observations
set.seed(666)  # For reproducibility
sampled_data_test <- analysis_data_test %>%
  sample_n(1000)

# Define age ranges
sampled_data_test <- sampled_data_test %>%
  mutate(age_range = cut(age, breaks = seq(min(age), max(age), by = 3), include.lowest = TRUE, right = FALSE))

# Calculate percentiles for each age range
percentile_data <- sampled_data_test %>%
  group_by(age_range) %>%
  summarize(
    p10 = quantile(predicted_prob, 0.10, na.rm = TRUE),
    p25 = quantile(predicted_prob, 0.25, na.rm = TRUE),
    p50 = quantile(predicted_prob, 0.50, na.rm = TRUE),  # Median
    p75 = quantile(predicted_prob, 0.75, na.rm = TRUE),
    p90 = quantile(predicted_prob, 0.90, na.rm = TRUE),
    age_mid = mean(as.numeric(as.character(age)), na.rm = TRUE), # Midpoint of age range
    .groups = "drop")

ggplot(sampled_data_test, aes(x = age, y = predicted_prob)) +
  # Scatterplot of individual predictions
  geom_point(alpha = 0.5, size = 2, color = "#FFA07A") +  # Softer orange color
  
  # Percentile lines with distinct colors and line types
  geom_line(data = percentile_data, aes(x = age_mid, y = p10), 
            color = "#FF6347", linetype = "dashed", size = 1.2, show.legend = TRUE) +  # 10th percentile
  geom_line(data = percentile_data, aes(x = age_mid, y = p25), 
            color = "#9370DB", linetype = "dotted", size = 1.2) +  # 25th percentile
  geom_line(data = percentile_data, aes(x = age_mid, y = p50), 
            color = "#4682B4", linetype = "solid", size = 1.5) +  # 50th percentile (Median)
  geom_line(data = percentile_data, aes(x = age_mid, y = p75), 
            color = "#9370DB", linetype = "dotted", size = 1.2) +  # 75th percentile
  geom_line(data = percentile_data, aes(x = age_mid, y = p90), 
            color = "#FF6347", linetype = "dashed", size = 1.2) +  # 90th percentile
  labs(
    title = "Predicted Probabilities by Age with Percentile Trends", 
    subtitle = "Analysis of Predicted Probabilities Across Percentiles",
    x = "Age (Months)",
    y = "Predicted Probability",
    caption = "Percentile lines represent 10th, 25th, 50th (median), 75th, and 90th percentiles.") +
scale_x_continuous(
    breaks = seq(min(sampled_data_test$age), max(sampled_data_test$age), by = 3),
    labels = function(x) paste(x, "mo")) +
  scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),
    labels = scales::percent_format() ) + theme_minimal(base_size = 14) +
  theme(plot.title = element_text(size = 16, face = "bold", hjust = 0.5),
    plot.subtitle = element_text(size = 12, face = "italic", hjust = 0.5),
    plot.caption = element_text(size = 10, hjust = 0.5, face = "italic"),
    axis.title = element_text(size = 14, face = "bold"),
    axis.text = element_text(size = 12),
    panel.grid.major = element_line(color = "grey90"),
    panel.grid.minor = element_blank()) +
  annotate("segment", x = max(sampled_data_test$age) - 4, xend = max(sampled_data_test$age) - 2, 
           y = 0.9, yend = 0.9, linetype = "dashed", size = 1.2, color = "#FF6347") 
```

## Distribution of Predicted Probabilities by Word Category

The distribution of predicted probabilities for achieving high vocabulary varies across word categories, as shown in @fig-prediction. Each panel corresponds to a specific category—such as “Activities,” “Adjectives,” and “Function Words”—and the density plots show the relative frequency of predicted probabilities ranging from 0 to 1. Categories like “Function Words” and “Adjectives” exhibit sharp peaks, suggesting that predictions for these word types are more consistent and confident, likely due to their frequent and predictable usage. In contrast, distributions for “Activities,” “Verbs,” and “Living Things” are more multimodal, indicating greater variability in the model’s predictions for these groups

Notably, several categories display a concentration of predictions near 0, reflecting words that the model predicts with low probability. For example, “Sensory Words” and “Places” have a pronounced density at the lower end of the probability range, suggesting that the model struggles to predict these categories with confidence. On the other hand, the broader spread of predictions in categories like “Objects” and “Living Things” highlights significant heterogeneity and some words are predicted confidently while others are not. The multimodal nature of some distributions points to subgroups within categories, where certain words are systematically easier or harder for the model to predict.


```{r, fig.width=10, fig.height=10}
#| echo: false
#| eval: true
#| label: fig-prediction
#| fig-cap: This figure displays the density distributions of predicted probabilities for achieving high vocabulary across different word categories. Categories such as Function Words and Living Things show concentrated higher probabilities, reflecting consistent acquisition patterns, while categories like Verbs and Sensory Words exhibit broader distributions and lower probabilities.
#| warning: false

ggplot(analysis_data_test, aes(x = predicted_prob, fill = broad_category)) +
  geom_density(alpha = 0.7, color = "black", size = 0.4) +  # Smooth density lines
  facet_wrap(~ broad_category, scales = "fixed", ncol = 4) +  # Use 2 columns for less crowding
  labs(
    title = "Distribution of Predicted Probabilities by Word Category",
    x = "Predicted Probability",
    y = "Density"
  ) +
  scale_fill_brewer(palette = "Pastel1") +  # Subtle and cohesive color palette
  theme_minimal(base_size = 15) +  # Increase base font size for better readability
  theme(
    plot.title = element_text(hjust = 0.5, face = "bold", size = 18),  # Larger title
    axis.title = element_text(size = 14, face = "bold"),
    axis.text = element_text(size = 12),  # Increase axis text size
    strip.text = element_text(size = 14, face = "bold", color = "darkblue"),  # Larger, bold facet labels
    panel.spacing = unit(1.5, "lines"),  # Moderate spacing between facets
    legend.position = "none",  # Remove legend to declutter
    panel.grid.major = element_line(color = "gray85"),  # Light gray gridlines
    panel.grid.minor = element_blank()  # No minor gridlines for a clean look
  )

```

# Discussion {#sec-discussion}

## Age and Developmental Dynamics

The role of age in vocabulary acquisition extends beyond a simple progression of linguistic capabilities—it reflects the interplay of rapid cognitive, social, and linguistic development that unfolds during early childhood. As shown in the results, the period between 18 and 30 months is characterized by an accelerated growth in vocabulary size, with the steepest increases observed in comprehension and production scores. This critical window not only underscores the biological readiness of children to absorb language but also highlights how external factors, such as parental interaction and linguistic exposure, amplify the trajectory of language growth.

Interestingly, the variability in acquisition patterns suggests that age alone does not act uniformly across all children. For instance, the widening gap in vocabulary sizes at older ages indicates that while some children reach advanced levels of vocabulary acquisition, others lag behind. This divergence raises questions about the influence of environmental and contextual factors—such as the quality and quantity of language input, socio-economic conditions, or bilingualism—that shape individual trajectories. Moreover, the plateau observed in vocabulary comprehension beyond 30 months suggests a potential shift in focus from foundational vocabulary to more nuanced, context-dependent language learning. These findings highlight the need for age-specific interventions that cater to both foundational vocabulary during early months and more complex linguistic skills as children grow older.


## Word Categories: Patterns and Variability

The analysis of word categories reveals distinct patterns in vocabulary acquisition, highlighting differences in cognitive accessibility and linguistic exposure. Foundational categories such as Function Words, Living Things, and Objects show consistently higher predicted probabilities, emphasizing their central role in early communication. These categories, linked to tangible items and routine interactions, form the basis for early linguistic development and are acquired more universally across children.

On the other hand, categories like Sensory Words and Adjectives display greater variability in predicted probabilities, reflecting their reliance on contextual understanding and experiential learning. Sensory words often require abstract reasoning or sensory experiences that develop later, while adjectives demand an ability to describe and compare attributes, which may not emerge until later stages. These patterns suggest opportunities to support the acquisition of less frequently encountered categories by incorporating them into everyday activities, such as interactive storytelling or guided play.

Verbs, occupying a middle ground, show moderate variability due to their dependence on both cognitive development and frequent reinforcement through daily interactions. These words often appear in action-oriented communication, such as instructions or play, making them integral but slightly more challenging to master. Addressing these category-specific challenges can help promote more balanced vocabulary development and support children in acquiring both foundational and complex word types.

## Implications for Early Childhood Education

The findings of this study offer valuable contributions to early childhood education by emphasizing the importance of targeted strategies in fostering balanced vocabulary development. Early vocabulary acquisition, as demonstrated, is not uniform across lexical categories. Foundational categories such as Function Words and Objects are consistently acquired and should be reinforced through structured linguistic activities, while categories like Sensory Words and Adjectives require more deliberate and context-specific teaching strategies due to their variability and reliance on experiential learning.

Educators and caregivers can use these insights to design age-appropriate learning environments that bridge gaps in underdeveloped word categories. For instance, integrating sensory-rich experiences, such as interactive play or descriptive storytelling, can provide children with exposure to Sensory Words and Adjectives, enhancing their cognitive and linguistic skills. Similarly, action-based activities that encourage the use of Verbs can be incorporated into daily routines, allowing children to connect language with physical movement and actions.

Additionally, the study highlights the critical role of age-specific interventions. For children aged 16–24 months, the focus should be on expanding foundational vocabulary to ensure a strong linguistic base. For those aged 25–30 months, introducing more complex and abstract words can help develop higher-order language skills. Structured programs, such as those integrating books, games, and parent-child interaction, can be tailored to these developmental needs.

Lastly, the disparities observed between norming and non-norming groups underscore the importance of equitable access to high-quality linguistic environments. Early childhood education programs should aim to provide diverse linguistic exposure across socio-economic and cultural contexts, ensuring all children have the opportunity to reach their vocabulary potential. By applying these findings, educators and policymakers can better support children’s language development, fostering their cognitive and academic success.

## Limitations and Future Directions

While the findings offer valuable directions, several limitations should be acknowledged. This study sheds light on key aspects of vocabulary acquisition, but certain limitations must be acknowledged. Firstly, the reliance on parental reports, as collected through the MacArthur-Bates Communicative Development Inventories (CDI), introduces potential biases. Parents may overestimate or underestimate their child’s abilities due to memory limitations, subjective interpretation, or social desirability. Such biases could affect the accuracy of the data, particularly for categories requiring nuanced understanding, like Sensory Words. To mitigate these limitations, future research should incorporate complementary methods, such as direct observational studies or experimental assessments, to provide more reliable and objective measurements of children’s vocabulary development.

Secondly, the cross-sectional nature of the dataset also limits the ability to capture individual developmental trajectories over time. While cross-sectional data offers a snapshot of vocabulary acquisition, it cannot account for within-child variability or the dynamic progression of language learning. @song ever used an 8-year longitudinal study study to track 264 Chinese children (145 boys and 119 girls) study of language and the importance of longitudinal studies in capturing within-child variability and the dynamics of vocabulary growth over time. By tracking the same children over extended periods, researchers could uncover mechanisms driving individual differences in learning rates, identify critical intervention windows, and observe the long-term effects of early linguistic exposure. Under the examination of longitudinal data, children’s individual development is measured multiple times using the same instrument. Unfortunately, relatively little of our CDI data comes from this type of repeated administration. There is a substantial amount of two-administration longitudinal data for several languages, but only a few have more than two observations for individual children. In general, this aspect of our data is a consequence of the fact that, for normative datasets, pure cross-sectional data collection is used to ensure statistical independence between data points. Thus, we must typically settle for using a large amount of available cross-sectional data to average out individual variability.

Another limitation lies in the dataset’s word category representation. While foundational categories like Function Words and Objects are well-represented, others, such as Sensory Words and Adjectives, are underrepresented, limiting the analysis of these more complex and context-dependent types. Future data collection could focus more on the word types and provides more feasible analysis on the lexcial category learning pattern. Additionally, integrating contextual factors such as socio-economic status, bilingualism, and parental language practices into future studies could provide a more comprehensive understanding of the mechanisms underlying linguistic development. These enhancements would allow for more comprehensive models that account for environmental diversity and linguistic richness.

Addressing these limitations through longitudinal studies, enriched datasets, and mixed-methods approaches can deepen our understanding of early vocabulary development. By incorporating diverse populations, balanced lexical categories, and multi-dimensional data, future research can offer actionable insights to support tailored educational interventions and equitable language development strategies for children from all backgrounds.

\appendix

# Appendix {#sec-data2}

## Survey Design: The CDI Framework

The MacArthur-Bates Communicative Development Inventories (CDI) form the backbone of this study, offering a well-validated framework for capturing early vocabulary acquisition. The CDI consists of structured checklists where parents report their child’s comprehension and production of specific words. These items are categorized into semantic groups, such as Function Words, Living Things, and Sensory Words, enabling researchers to analyze patterns across different lexical domains. Despite its strengths, the reliance on parental reports introduces variability in accuracy, particularly for abstract categories like Sensory Words, where interpretation can differ among respondents.

To mitigate reporting biases, the CDI employs predefined response categories to streamline input and ensure consistency. However, this approach may still struggle in multilingual or low-literacy environments, as highlighted by Julien and Nivedita’s (2018) development of a short-form CDI. Their method reduces completion time by sampling a limited number of items while leveraging data from WordBank, a large-scale repository of CDI responses, to estimate full vocabulary scores. These adaptations demonstrate the potential for combining survey efficiency with robust statistical techniques to enhance data collection. 

The CDI framework and its use in Wordbank align with best practices in developmental research, as outlined in studies from @mayor. The test-retest reliability of the CDI supports its validity, although the variability in parental reporting—especially for comprehension items—has been noted. Advanced statistical techniques like Item Response Theory (IRT) have been employed to evaluate the discriminative power of individual CDI items, revealing strengths in measuring commonly acquired words and limitations for abstract concepts. These findings inform the design of future surveys, emphasizing the need for complementary methods, such as direct assessments or longitudinal designs, to address the limitations of observational data.

## Sampling Framework

The @wordbankr dataset includes norming and non-norming samples, which together capture a broad spectrum of linguistic development. Norming samples are designed to represent a balanced, standardized population, serving as benchmarks for vocabulary acquisition. These data allow for cross-study comparisons and robust generalizations but may not fully capture real-world variability. In contrast, non-norming samples encompass a wider range of linguistic environments, including underrepresented groups. This dual approach helps investigate effects of contextual diversity on language acquisition but also introduces challenges in integrating findings from norming and non-norming subsets.

One critical consideration in observational datasets like Wordbank is the potential for sampling biases. For example, children from bilingual households or lower socio-economic backgrounds may be underrepresented in the norming sample, leading to an incomplete picture of vocabulary acquisition patterns. Future surveys could benefit from targeted recruitment strategies to ensure more comprehensive sampling of diverse populations.

## Observational Nature of the Data

The observational nature of this study enhances ecological validity but also introduces challenges in establishing causal relationships. For example, while age and norming status strongly predict vocabulary size, their effects could be mediated by unmeasured factors such as parental education or home language practices. Building on Julien and Nivedita’s (2018) findings, future studies could integrate adaptive methods like their CDI-CAT, which dynamically selects test items based on prior responses to optimize efficiency without compromising reliability.

Simulations conducted for this study reveal variability in acquisition across lexical categories, with foundational words like Objects being acquired more consistently than abstract categories like Adjectives. This aligns with prior research showing that concrete words are easier for young children to learn due to their frequent use in daily interactions. Observational studies could be further enhanced by longitudinal tracking of individual children to capture within-subject variability and better understand developmental trajectories.

## Recommendations

To address the limitations of the current CDI framework, future studies should focus on:

	1.	Dynamic Survey Methods: Adopting adaptive testing techniques, such as the CDI-CAT, to streamline data collection while maintaining accuracy.
	
	2.	Expanded Sampling: Increasing representation from diverse socio-economic and linguistic backgrounds in norming groups to improve generalizability.
	
	3.	Integration of Environmental Variables: Including measures like socio-economic status and parental language use to contextualize vocabulary acquisition patterns.
	
	4.	Longitudinal Designs: Tracking individual children over time to capture developmental changes and account for variability in early language acquisition.
	
# Model details {#sec-model2}

## Model Summary

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelsummary
#| tbl-cap: Model Summary
#| warning: false

modelsummary(logistic_model)
```

## Diagnostics

### Confusion Matrix
```{r}
#| echo: false
#| warning: false
#| message: false

analysis_data_test <- read_parquet(here::here("data/02-analysis_data/test_data.parquet"))

# Preprocess test data
analysis_data_test <- analysis_data_test %>%
  mutate(prod_comp_mean = (production + comprehension) / 2,  # Average of production and comprehension
    high_vocabulary = ifelse(prod_comp_mean > 300, 1, 0),  # Binary target variable
    age_scaled = scale(age)  # Standardize age
  ) %>%
  drop_na(prod_comp_mean)  # Drop rows with NA in prod_comp_mean
analysis_data_test$age_scaled <- as.numeric(analysis_data_test$age_scaled)

# Predict probabilities for test data
predicted_probabilities <- predict(logistic_model, newdata = analysis_data_test, type = "response")

# Predict classes based on probabilities
predicted_classes <- ifelse(predicted_probabilities > 0.5, 1, 0)

# Create a confusion matrix
confusion_matrix <- table(
  Actual = analysis_data_test$high_vocabulary,
  Predicted = predicted_classes
)

# Compute accuracy, sensitivity, specificity, and precision
accuracy <- sum(diag(confusion_matrix)) / sum(confusion_matrix)
sensitivity <- confusion_matrix[2, 2] / sum(confusion_matrix[2, ])  # True Positives / Actual Positives
specificity <- confusion_matrix[1, 1] / sum(confusion_matrix[1, ])  # True Negatives / Actual Negatives
precision <- confusion_matrix[2, 2] / sum(confusion_matrix[, 2])  # True Positives / Predicted Positives

# Create a dataframe for metrics
metrics <- data.frame(
  Metric = c("Accuracy", "Sensitivity (Recall)", "Specificity", "Precision"),
  Value = c(accuracy, sensitivity, specificity, precision)
)

# Display the table using kable
kable(metrics, col.names = c("Metric", "Value"), format = "markdown", digits = 2)
```

### ROC Curve and AUC
```{r}
#| echo: false
#| warning: false
#| message: false

library(pROC)
roc_curve <- roc(analysis_data_test$high_vocabulary, predicted_probabilities)
auc_value <- auc(roc_curve)
plot(roc_curve, main = "ROC Curve", col = "blue", lwd = 2)
```

### Precision-Recall Curve
```{r}
#| echo: false
# Precision-Recall Curve (optional, useful for imbalanced data)
#install.packages("PRROC")
library(PRROC)
pr_curve <- pr.curve(scores.class0 = predicted_probabilities[analysis_data_test$high_vocabulary == 1],
                     scores.class1 = predicted_probabilities[analysis_data_test$high_vocabulary == 0],
                     curve = TRUE)
plot(pr_curve, main = "Precision-Recall Curve")
```
### Binned Residual Plot
```{r}
#| echo: false

binnedplot(fitted(logistic_model), residuals(logistic_model, type = "response"),
           xlab = "Fitted Probabilities", ylab = "Average Residual",
           main = "Binned Residual Plot")
```

# Acknowledgements

This project was conducted under the help of OpenAI’s ChatGPT 4.0, which provided invaluable assistance in drafting and refining the paper. The analysis was conducted using a suite of packages from @citeR, which offered robust functionality for data manipulation, visualization, and storage. We extend our gratitude to the teams behind the @tidyverse, @ggplot2, @scales, @dplyr, @tidyr, @arm, @modelsummary and @knitr packages, whose tools were instrumental in streamlining the data cleaning, analysis, and graphing processes. Additionally, @arrow played a critical role in efficient data handling and storage through Parquet files. Thanks to @proc and @prroc for supporting model diagnostics in this study.

A special acknowledgment goes to the @wordbankr and @cdi team for providing the extensive dataset that forms the foundation of this research. Their contribution enabled a comprehensive exploration of vocabulary learning patterns in children. We are deeply grateful to the developers and maintainers of these open-source tools and datasets for their efforts in advancing research and accessibility in the data science community.

\newpage

# References






